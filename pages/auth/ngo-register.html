<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NGO Registration</title>
  <link rel="stylesheet" href="../../css/styles.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
</head>
<body style="background: url('https://png.pngtree.com/thumb_back/fh260/background/20231226/pngtree-vibrant-watercolor-pastels-a-playful-and-colorful-textured-background-in-blue-image_13865746.png') no-repeat center center fixed; background-size: cover;">
<div class="container mt-5">
  <div class="card p-4 shadow">
    <h2 class="mb-4">Register as an NGO</h2>
    <div class="mb-3">
      <label for="name" class="form-label">NGO Name</label>
      <input type="text" class="form-control" id="name" required>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" class="form-control" id="email" required>
    </div>
    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <input type="password" class="form-control" id="password" required>
    </div>
    <div class="mb-3">
      <label for="ngoProof" class="form-label">Upload Registration Proof (PDF)</label>
      <input type="file" class="form-control" id="ngoProof" accept="application/pdf" required>
    </div>
    <button class="btn btn-success" id="registerBtn">Submit for Approval</button>
  </div>
</div>

<script>
document.getElementById("registerBtn").addEventListener("click", function () {
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value;
  const file = document.getElementById("ngoProof").files[0];

  if (!name || !email || !password || !file) {
    alert("Please fill all fields and upload a PDF.");
    return;
  }

  if (file.type !== "application/pdf") {
    alert("Only PDF files are allowed.");
    return;
  }

  const reader = new FileReader();
  reader.onload = function (e) {
    const base64PDF = e.target.result;
    const pending = JSON.parse(localStorage.getItem("pendingNGOs")) || [];
    pending.push({ name, email, password, role: "ngo", proof: base64PDF });
    localStorage.setItem("pendingNGOs", JSON.stringify(pending));
    alert("Registration submitted for admin approval.");
    window.location.href = "ngo-login.html";
  };

  reader.readAsDataURL(file);
});
</script>
</body>
</html>
